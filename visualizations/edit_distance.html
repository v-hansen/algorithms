<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Distance</title>
    <style>
        body { font-family: Arial; max-width: 900px; margin: 50px auto; background: #f5f5f5; }
        canvas { background: white; border: 2px solid #333; display: block; margin: 20px auto; }
        .controls { text-align: center; margin: 20px 0; }
        button { padding: 10px 20px; margin: 5px; font-size: 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        input { padding: 8px; font-size: 16px; margin: 5px; width: 150px; }
        .info { text-align: center; margin: 20px; font-size: 18px; }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Edit Distance (Levenshtein)</h1>
    <canvas id="canvas" width="800" height="400"></canvas>
    <div class="controls">
        <input type="text" id="str1" value="kitten" placeholder="String 1">
        <input type="text" id="str2" value="sitting" placeholder="String 2">
        <button onclick="compute()">Compute</button>
        <button onclick="location.href='index.html'">Back</button>
    </div>
    <div class="info" id="info">Edit Distance: ?</div>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        async function compute() {
            const s1 = document.getElementById('str1').value;
            const s2 = document.getElementById('str2').value;
            const m = s1.length, n = s2.length;
            const dp = Array(m + 1).fill(0).map(() => Array(n + 1).fill(0));
            
            for (let i = 0; i <= m; i++) dp[i][0] = i;
            for (let j = 0; j <= n; j++) dp[0][j] = j;
            
            for (let i = 1; i <= m; i++) {
                for (let j = 1; j <= n; j++) {
                    if (s1[i-1] === s2[j-1]) {
                        dp[i][j] = dp[i-1][j-1];
                    } else {
                        dp[i][j] = 1 + Math.min(dp[i-1][j], dp[i][j-1], dp[i-1][j-1]);
                    }
                    draw(s1, s2, dp, i, j);
                    await new Promise(resolve => setTimeout(resolve, 100));
                }
            }
            
            document.getElementById('info').textContent = `Edit Distance: ${dp[m][n]}`;
        }

        function draw(s1, s2, dp, ci, cj) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            const cellSize = 35;
            const startX = 100, startY = 50;
            
            for (let i = 0; i <= s1.length; i++) {
                for (let j = 0; j <= s2.length; j++) {
                    ctx.fillStyle = (i === ci && j === cj) ? '#ffc107' : '#e9ecef';
                    ctx.fillRect(startX + j * cellSize, startY + i * cellSize, cellSize - 2, cellSize - 2);
                    ctx.strokeRect(startX + j * cellSize, startY + i * cellSize, cellSize - 2, cellSize - 2);
                    ctx.fillStyle = '#000';
                    ctx.fillText(dp[i][j], startX + j * cellSize + 12, startY + i * cellSize + 22);
                }
            }
            
            ctx.fillStyle = '#000';
            for (let i = 0; i < s1.length; i++) {
                ctx.fillText(s1[i], startX - 20, startY + (i + 1) * cellSize + 22);
            }
            for (let j = 0; j < s2.length; j++) {
                ctx.fillText(s2[j], startX + (j + 1) * cellSize + 12, startY - 10);
            }
        }

        compute();
    </script>
</body>
</html>
